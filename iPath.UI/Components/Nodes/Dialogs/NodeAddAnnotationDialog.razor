@using iPath.UI.Components.Nodes.ViewModels
@inject NodeDetailViewModel vm;


<MudFocusTrap DefaultFocus="DefaultFocus.FirstChild">
    <MudDialog ContentStyle="width: 720px; height: 300px;">
        <TitleContent>
            <MudText Typo="Typo.h6">Annotation</MudText>
        </TitleContent>
        <DialogContent>
            <MudTextField AutoGrow="true" @bind-Value="annotationText" Immediate="true"
                          Lines="14" Variant="Variant.Outlined"
                          Label="Annotation"
                          Style="width: 100%; height: 100%" />
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Primary" OnClick="@Save" Variant="Variant.Filled">
                Save
            </MudButton>
            <MudButton Color="Color.Error" OnClick="@Cancel" Variant="Variant.Filled">
                Cancel
            </MudButton>
        </DialogActions>
    </MudDialog>
</MudFocusTrap>


@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; }

    [Parameter]
    public NodeModel Model { get; set; }

    string annotationText = default!;

    private void Save() => MudDialog.Close(DialogResult.Ok(annotationText));

	private void Cancel() => MudDialog.Cancel();
}
